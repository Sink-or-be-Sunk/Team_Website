<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
This is an example weekly progress report document that team members can use to report their individual progress 
of their ECE477 senior design projects. Weekly progress reports are expected to follow the general guidelines
presented in the "Progress Report Policy" document, available online at https://engineering.purdue.edu/ece477/Course/Policies/policies.html

Please create 4 copies of this example, renaming each copy to <PurdueID>.html, where <PurdueID> corresponds to
the Purdue ITAP Career Account ID given by Purdue to each individual team member. If you have any questions,
contact course staff.
-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<!--Reconfigurable base tag; used to modify the site root location for root-relative links-->
<base href="https://engineering.purdue.edu/477grp8/" />

<!--Content-->
<title>ECE477 Course Documents</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="author" content="George Hadley">
<meta name = "format-detection" content = "telephone=no" />
<meta name="viewport" content="width=device-width,initial-scale=1.0">

<!--CSS-->
<link rel="stylesheet" href="css/default.css" type="text/css" media="all" />
<link rel="stylesheet" href="css/responsive.css">
<link rel="stylesheet" href="css/styles.css">
<link rel="stylesheet" href="css/content.css">
<!--[if IE 6]>
<link href="default_ie6.css" rel="stylesheet" type="text/css" />
<![endif]-->

</head>
<body>
<div id="wrapper_site">
    <div id="wrapper_page">
	<!-- Instantiate global site header.-->
	<div id="header"></div>
		<!-- Instantiate site global navigation bar.-->
		<div id="menu"></div>
	
		<!-- Instantiate a page banner image. Page banner images should be 1100x350px and should be located within the local
			img folder located at this directory level. -->
		<div id="banner">
			<img src="img/banner.png"></img>
		</div>
	
		<!-- Instantiate "tools" needed for a page. Tools are premade functional blocks that can be used to build a page,
			and include things such as a file lister (for listing out homework assignments or tutorials)
		-->
		<div id="content">
            <h2>Progress Report for Garrett Brillhart</h2>
            
            <h4>Week 1:</h4>
            <b>Date:</b> 9/1/2021<br>
            <b>Total hours:</b> 5<br>
            <b>Description of design efforts:</b><br>
		Garrett worked with his team on creating a final design proposal. Garrett specifically worked on defining tasking and responsibilities for each team members in their respective positions and worked with Mitch on creating a rough estimated budget for the project. The whole team worked on and contributed to creating Sink or be Sunk's PSSCs. This work was done through internet research and collaboration with the team. Garrett learned that there is much more that goes into a parts list than simply a microcontroller and PCB. Things such as hinge assemblies, shipping, and plastic case assemblies must be considered. The result is that the team has clearly defined roles, an estimated cost to further refine, and PSSCs that the team will be able to get feedback on from course staff. The next steps to be taken will be to further refine the Sink or be Sunk into specific criteria and to finalize ideas on the design and behavior of the project.
		</br>
            <br>

            <h4>Week 2:</h4>
            <b>Date:</b> 9/3/2021<br>
            <b>Total hours:</b> 10 <br>
            <b>Description of design efforts:</b><br>
        	Garrett worked on formalizing the functional specification of Sink or be Sunk this week. He defined and completed the functional description to establish the specifics of what the project will exactly behave and perform. Garrett also developed the usage case for the system as well as define several constraints including Computational, Thermal/Power, and Mechanical Constraints. This was done through internet research and decisions made by the team. The resulting work allows Garrett and the rest of the team to begin working on more technical aspects of design and software now that the functional description of the project is clear. Garrett learned that many things go into consideration when developing a project and it is not limited to simply coding and designing in a box. The next steps will be to specify and finalize more technical details of the software and hardware as development begins. </br> </br>

<p><img src="Team/progress/img/Week_2_progress_report.jpg" width="400" height="600"></img></p>

	Garrett also began experimenting with an ESP32-WROVER-B development board. This includes installing the necessary prerequisites, eclipse IDE, creating a basic test rig on a breadboard, and exporting code from other team members onto his local machine to work with. The work included ensuring that Mitch's work to connect to a sever websocket and pull up the Sink or be Sunk webpage could be successfully replicated and utilized. Once the connection was established, Garrett then began experimenting with the ESP32 to perform basic functions, such as I/O and blinking LEDs. This was all performed on a local machine utilizing ESP32 software and the Eclipse development program on the aforementioned simple test rig (also pictured above). The result was that Garrett was able to successfully implement code from another team member and is able to perform basic functions with an ESP32 dev board. Garrett learned about programming for an ESP32 compared to a microncontroller he was familiar with (like the STM32). He also learned how to manage Git in a multi-developer project to ensure continous progress and cohesion. Garrett will next dive into learning to use the WiFi connection aspect of the ESP32 and attempt to send packets to the websocket server which will be an important part of the overall function of the project. Additionally, he will work on the test rig to include keypad and a small array of LEDs and attempt to include some basic functionality to them.

	</br>
            <h4>Week 3:</h4>
            <b>Date:</b> 9/10/2021<br>
            <b>Total hours:</b> 15 <br>
            <b>Description of design efforts:</b><br>

	I worked on continuing experimentation with the ESP32 development board and debugging both the development environment and board itself. What I believed to be successful implementation of Mitch's websocket code through the Eclipse IDE turned out to be untrue. While Eclipse had successfully built and flashed the code, the websocket data that I thought was working as intended, was just the BLE provisioning attempting to work. After some attempts at managing the libraries and necessary infrastructure in Eclipse, I decided to instead begin to work through VSCode and the ESP-IDF extenstions built into it. This also ensures that Mitch, myself, and the rest of the team share the same platform for ease of porting. <br>
	VSCode also raised some time-consuming issues, requiring use of the master/development branch for utilization of Mitch's code and Windows having COM port driver issues. Eventually, the websocket code was successfully implemented, flashed, and ran on the ESP32, much to my delight. 
	After finally perfecting the development environment, I began experimenting more with LEDs and a simple keypad button detection. Three LEDs (Red, Yellow, Green) now indicate the websocket connection status, seen on the test rig picture below. The red LED indicates the device is loading, booting, or otherwise in an error. The yellow LED indicates the websocket server is provisioning, and is awaiting user input from their mobile phone through the ESP app. The green LED indicates a successful connection to the websocket.
	The keypad code led to some interesting developments and part of the code can be seen in the code snippet below. The process of scanning and listening through the keypad is to my knowledge implemented correctly and returns most of the buttons pressed. Through trial and error, I discovered that ports 16, 0, and 17 appear to be blown out on the development board, thus allowing only columns 2, 4 and rows 1-3 to work as intended. I would like to use another development board to double-check that it is a hardware issue and not in my code, but running some test code to check for voltages proved fairly convincing. 

<p><img src="Team/progress/img/test_rig_wk3.jpg" width="400" height="600"></img>
<img src="Team/progress/img/Code_Snippet_Wk3.PNG" width="400" height="600"></img></p>
	The results of this week's work allowed me to truly setup a way to develop the software and alerted me to possible dev board issues that need immediate addressing. Developing code on a faulty board could have had some far-reaching consequences, had I not caught it this early.
	I learned much more about ESP32 programming, and instead of directly copying code from the internet (only for experimentation purposes of course), I believe I can start creating necessary software for a number of the peripherals. I also learned how to implement the ESP-IDF from VSCode, so that instead of taking hours it would take maybe 30 minutes to install fully and correctly. 
	The next steps to be taken will be to ensure that the development board I possess from the ECE shop is faulty and secure a working development board. Once that is done, I will work on creating a more functional keypad decipherer that is more focused towards the project (i.e. looking for attack coordinates, starting a game, etc.). Also, I want to work with SPI protocol to an LCD interface and display some meaningful data to both refresh myself and lay a foundation for LCD implementation in the project.

                      
        </div>
	
		<!-- Instantiate global footer. Any changes to the footer should be made through the top-level file "footer.html" -->
		<div id="footer"></div>
    </div>
</div>

<!--JS-->
<script src="js/jquery.js"></script>
<script src="js/jquery-migrate-1.1.1.js"></script>

<script type="text/javascript">
$(document).ready(function() {
    $("#header").load("header.html");
	$("#menu").load("navbar.html");
	$("#footer").load("footer.html");
});
</script>
</body>
</html>
